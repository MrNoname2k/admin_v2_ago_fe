<div class="page">
  <mat-form-field appearance="fill" style="width: 30vw; float: right; margin-top: 1vh;">
    <mat-label>Search</mat-label>
    <input matInput (keyup)="applyFilter($event)" placeholder="Search" #input>
  </mat-form-field>

  <div class="mat-elevation-z8" style="height: auto;">
    <table mat-table [dataSource]="dataSource" matSort>
      <!-- ID Column -->
      <ng-container matColumnDef="firstName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> FIRST NAME </th>
        <td mat-cell *matCellDef="let row"> {{row.firstName}} </td>
      </ng-container>

      <!-- Progress Column -->
      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> LAST NAME </th>
        <td mat-cell *matCellDef="let row"> {{row.lastName}} </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="phone">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> PHONE </th>
        <td mat-cell *matCellDef="let row"> {{row.phone != null ? row.phone : 'Not updated'}} </td>
      </ng-container>

      <!-- Fruit Column -->
      <ng-container matColumnDef="mail">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> E-MAIL </th>
        <td mat-cell *matCellDef="let row"> {{row.mail}} </td>
      </ng-container>

       <!-- Fruit Column -->
       <ng-container matColumnDef="address">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> ADDRESS </th>
        <td mat-cell *matCellDef="let row"> {{row.address != null ? row.address : 'Not updated'}} </td>
      </ng-container>

       <!-- Fruit Column -->
       <ng-container matColumnDef="city">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> CITY </th>
        <td mat-cell *matCellDef="let row"> {{row.city != null ? row.city : 'Not updated'}} </td>
      </ng-container>

       <!-- Fruit Column -->
       <ng-container matColumnDef="birthDay">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> BIRTHDAY </th>
        <td mat-cell *matCellDef="let row"> {{row.birthDay | date:'MM/dd/yyyy'}} </td>
      </ng-container>

       <!-- Fruit Column -->
       <ng-container matColumnDef="gender">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> GENDER </th>
        <td mat-cell *matCellDef="let row"> {{row.gender}} </td>
      </ng-container>

       <!-- Fruit Column -->
       <ng-container matColumnDef="online">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> ONLINE </th>
        <td mat-cell *matCellDef="let row"> {{row.online == true ? 'Online' : 'Offline'}} </td>
      </ng-container>

       <!-- Fruit Column -->
       <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> STATUS </th>
        <td mat-cell *matCellDef="let row"> {{row.status}} </td>
      </ng-container>

       <!-- Fruit Column -->
       <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
        <td style="height: 100%;">
          <mat-cell *matCellDef="let row; let i = index;">
            <div mat-dialog-actions>
            <button mat-button (click)="openDialog(i)"><i class="fa-regular fa-pen-to-square" style="color: #08874c;"></i>Update</button>
            <button mat-button (click)="deleteUser(i)"><i class="fa-solid fa-trash " style="color: #ec1313;"></i>Delete</button>
            </div>
          </mat-cell>
        </td>
      </ng-container>


      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
      </tr>
    </table>

    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" [pageSize]="10" aria-label="Select page of users"></mat-paginator>
  </div>
</div>
